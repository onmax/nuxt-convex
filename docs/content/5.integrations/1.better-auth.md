---
title: Better Auth
description: Integrate Better Auth with Nuxt Convex for authentication.
---


Use [nuxt-better-auth](https://nuxt-better-auth.onmax.me/) for authentication alongside Convex for your app data.

## Setup

Install the Better Auth module:

```bash [Terminal]
pnpm add @onmax/nuxt-better-auth
```

Add both modules to your Nuxt configuration:

```ts [nuxt.config.ts]
export default defineNuxtConfig({
  modules: ['nuxt-convex', '@onmax/nuxt-better-auth'],
  convex: { storage: true },
})
```

## Server Auth Config

Create a server auth configuration:

```ts [server/auth.config.ts]
import { defineServerAuth } from '@onmax/nuxt-better-auth/config'

export default defineServerAuth(() => ({
  emailAndPassword: { enabled: true },
}))
```

See [nuxt-better-auth docs](https://nuxt-better-auth.onmax.me/) for database adapters, social providers, and plugins.

## Using with Convex

Pass the user ID from Better Auth to your Convex queries:

```vue [app/pages/tasks.vue]
<script setup lang="ts">
import { api } from '#convex/api'

const { user } = useAuth()
const { data: tasks } = useConvexQuery(
  api.tasks.list,
  computed(() => user.value ? { userId: user.value.id } : undefined)
)
</script>
```

## Convex as Auth Database (Advanced)

You can store auth data directly in Convex instead of a SQL database.

Install additional dependencies:

```bash [Terminal]
pnpm add @convex-dev/better-auth better-auth --save-exact
```

Configure the Convex app:

```ts [convex/convex.config.ts]
import betterAuth from '@convex-dev/better-auth/convex.config'
import { defineApp } from 'convex/server'

const app = defineApp()
app.use(betterAuth)
export default app
```

Update the server auth config to use Convex:

```ts [server/auth.config.ts]
import { components } from '#convex/api'
import { createClient } from '@convex-dev/better-auth'
import { convex } from '@convex-dev/better-auth/server/plugins'
import { defineServerAuth } from '@onmax/nuxt-better-auth/config'

const authComponent = createClient(components.betterAuth)

export default defineServerAuth(() => ({
  database: authComponent.adapter(),
  plugins: [convex()],
  emailAndPassword: { enabled: true },
}))
```

This stores users, sessions, and accounts in Convex. See [@convex-dev/better-auth](https://github.com/get-convex/convex-better-auth) for details.
